"use strict";angular.module("app").config(["$locationProvider","$urlRouterProvider","$stateProvider",function(e,a,t){t.state("app",{abstract:!0,url:"/m",views:{"toolbar-left@app":{templateUrl:"app/modules/dashboard/toolbar-menu.html?rev=dc1895198b"},"toolbar-right@app":{templateUrl:"app/modules/dashboard/toolbar-message.html?rev=bb25fb09d6"},"":{template:"<dashboard flex layout></dashboard>"}},resolve:{deps:["$ocLazyLoad",function(e){return e.load(["app/modules/dashboard/dashboard.min.css?rev=918fcb9a9b","app/modules/dashboard/dashboard.min.js?rev=ee1916f42a","app/components/sidemenu/sidemenu.min.css?rev=77626f0d8b","app/components/sidemenu/sidemenu.min.js?rev=83baeef55d","app/services/dialog.min.js?rev=fdb2935abc","app/services/menu.min.js?rev=1b499b763f","app/services/error.min.js?rev=d64a8122b6"])}]}}).state("app.login",{url:"/login",template:'<login flex layout layout-align="center center"></login>',resolve:{deps:["$ocLazyLoad",function(e){return e.load(["//cdn.bootcss.com/angular-md5/0.1.10/angular-md5.min.js","app/modules/login/login.min.js?rev=97c2fb8c1c"])}]}}).state("app.logout",{url:"/logout",resolve:{logout:["$state","User",function(e,a){return a.logout({redirect:"/"}).then(function(){e.prev={},e.go("app.login")})}]}}).state("app.password",{url:"/password",template:'<password flex layout layout-align="center center"></password>',data:{title:"重置密码"},resolve:{deps:["$ocLazyLoad",function(e){return e.load("app/modules/password/password.min.js?rev=0e1cb15fa8")}]}}).state("app.binding",{url:"/binding?{openid}&{platformid}&{target}",template:'<binding flex layout layout-align="center center"></binding>',data:{title:"账号绑定"},resolve:{deps:["$ocLazyLoad",function(e){return e.load(["//cdn.bootcss.com/angular-md5/0.1.10/angular-md5.min.js","app/modules/binding/binding.min.js?rev=4e88e26195"])}]}}).state("app.error",{url:"/error?{message}",resolve:{deps:function(){}}}).state("app.addon",{abstract:!0,url:"/addon",views:{"toolbar-left@app":{templateUrl:"app/modules/dashboard/toolbar-back.html?rev=29141971ab"},"":{template:"<ui-view flex layout></ui-view>"}},data:{title:"我的应用"}}).state("app.addon.index",{url:"/index",views:{"toolbar-left@app":{templateUrl:"app/modules/dashboard/toolbar-menu.html?rev=dc1895198b"},"":{template:'<addon-index flex layout layout-align="center none"></addon-index>'}},data:{title:"首页"},resolve:{deps:["$ocLazyLoad",function(e){return e.load(["app/modules/addon/index/index.min.css?rev=44fd74c692","app/modules/addon/index/index.min.js?rev=2602cd0a20","app/components/weather/weather.min.js?rev=45da8eb00f"])}]}}).state("app.addon.charge",{url:"/charge",views:{"toolbar-right@app":{templateUrl:"app/modules/addon/charge/toolbar-chargelog.html?rev=d10b160510"},"":{template:'<addon-charge flex layout layout-padding layout-align-gt-sm="center none"></addon-charge>'}},data:{title:"账户充值"},resolve:{deps:["$ocLazyLoad",function(e){return e.load(["app/modules/addon/charge/charge.min.js?rev=d63b2d5a34"])}]}}).state("app.addon.chargelog",{url:"/chargelog",template:'<addon-chargelog flex layout layout-align-gt-sm="center none"></addon-chargelog>',data:{title:"充值记录"},resolve:{deps:["$ocLazyLoad",function(e){return e.load("app/modules/addon/chargelog/chargelog.min.js?rev=701c58d717")}]}}).state("app.addon.fee",{url:"/fee",template:'<addon-fee flex layout layout-align-gt-sm="center none"></addon-fee>',data:{title:"消耗账单"},resolve:{deps:["$ocLazyLoad",function(e){return e.load("app/modules/addon/fee/fee.min.js?rev=ea1a65682c")}]}}).state("app.addon.device",{url:"/device",template:'<addon-device flex layout layout-align-gt-sm="center none"></addon-device>',data:{title:"仪表控制"},resolve:{deps:["$ocLazyLoad",function(e){return e.load(["//cdn.bootcss.com/jshashes/1.0.6/hashes.min.js","app/modules/addon/device/device.min.js?rev=13dccd79cf"])}]}}).state("app.addon.message",{url:"/message",views:{"toolbar-right@app":{templateUrl:void 0},"":{template:'<addon-message flex layout layout-align-gt-sm="center none"></addon-message>'}},data:{title:"消息通知"},resolve:{deps:["$ocLazyLoad",function(e){return e.load("app/modules/addon/message/message.min.js?rev=9e90c420de")}]}}).state("app.addon.account",{url:"/account",data:{title:"我的资料"},template:'<addon-account flex layout layout-align-gt-sm="center none"></addon-account>',resolve:{deps:["$ocLazyLoad",function(e){return e.load("app/modules/addon/account/account.min.js?rev=2b68408927")}]}}).state("app.addon.account.mobile",{url:"/mobile",data:{title:"手机号码"},views:{"@app.addon":{template:'<addon-account-edit action="mobile" flex layout layout-align="center none"></addon-account-edit>'}}}).state("app.addon.account.email",{url:"/email",data:{title:"电子邮箱"},views:{"@app.addon":{template:'<addon-account-edit action="email" flex layout layout-align="center none"></addon-account-edit>'}}}).state("app.addon.account.department",{url:"/department",data:{title:"商铺名称"},views:{"@app.addon":{template:'<addon-account-edit action="department" flex layout layout-align="center none"></addon-account-edit>'}}}).state("app.admin",{abstract:!0,url:"/admin",template:"<ui-view flex layout></ui-view>",data:{title:"应用管理"}}).state("app.admin.index",{url:"/index",template:"<admin-index flex layout></admin-index>",data:{title:"首页设置"},resolve:{deps:["$ocLazyLoad",function(e){return e.load("app/modules/admin/index/index.min.js?rev=dbc5e65b7d")}]}}).state("app.admin.application",{url:"/application",template:"<admin-application flex layout></admin-application>",data:{title:"应用设置"},resolve:{deps:["$ocLazyLoad",function(e){return e.load("app/modules/admin/application/application.min.js?rev=d452a07236")}]}}),e.html5Mode(!0),a.otherwise(function(e,a){a.otherwise=!0})}]).run(["$rootScope","$location","$state","User",function(e,a,t,o){t.prev={},e.$on("$locationChangeSuccess",function(e){a.otherwise&&(delete a.otherwise,e.preventDefault(),t.go("app.addon.index",{},{location:"replace"}))}),e.$on("$stateChangeStart",function(e,a,n){/^app\.(login|logout|binding|error)$/.test(a.name)||(t.prev.state=a.name,t.prev.params=n,angular.isUndefined(o.data)&&(e.preventDefault(),o.login().then(function(){t.go(t.prev.state,t.prev.params,{location:"replace"})},function(){t.go("app.login")})))})}]);