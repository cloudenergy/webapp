"use strict";angular.module("app").run(["$ionicPlatform","$ionicPopup","$state",function(t,e,n){t.on("resume",function(){window.chcp?(navigator.splashscreen.show(),chcp.fetchUpdate(function(t){t&&n.reload()})):n.reload()}),["chcp_nothingToUpdate","chcp_updateInstalled","chcp_updateInstallFailed","chcp_updateIsReadyToInstall","chcp_updateLoadFailed"].forEach(function(t){document.addEventListener(t,function(){setTimeout(function(){navigator.splashscreen.hide()},1200)},!1)}),document.addEventListener("chcp_updateIsReadyToInstall",function(){e.confirm({title:"<strong>有版本更新</strong>",template:"相关功能需更新后才能生效",okText:"更新",cancelText:"稍后"}).then(function(t){t&&(navigator.splashscreen.show(),chcp.installUpdate(function(t){}))})},!1),document.addEventListener("chcp_updateLoadFailed",function(t){var n=t.detail.error;n&&n.code==chcp.error.APPLICATION_BUILD_VERSION_TOO_LOW&&(e.show({cssClass:"text-center",title:"升级提醒",template:"有新的版本，请下载更新",buttons:[{text:"立即升级",type:"button-positive",onTap:function(t){t.preventDefault(),window.isIOS?window.open("itms-apps://itunes.apple.com/cn/app/id1237120322"):window.isAndroid&&cordova.InAppBrowser.open("http://zft.gugecc.com/zft-app.html","_system")}}]}),["mousedown","mousemove","mouseup","MSPointerDown","MSPointerMove","MSPointerUp","pointerdown","pointermove","pointerup","touchstart","touchmove","touchend"].forEach(function(t){document.querySelector("body>ion-nav-view").addEventListener(t,function(t){return t.preventDefault(),t.stopPropagation(),!1},!0)}))},!1)}]);