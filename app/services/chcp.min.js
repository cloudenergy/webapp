"use strict";angular.module("app").run(["$ionicPlatform","$ionicPopup","$state","$storage",function(e,t,o,n){e.on("resume",function(){window.chcp?chcp.fetchUpdate(function(e){e?!window.DO_NOT_RELOAD&&!n.expired()&&o.reload():(navigator.splashscreen.show(),chcp.installUpdate())}):!window.DO_NOT_RELOAD&&!n.expired()&&o.reload()}),["chcp_nothingToUpdate","chcp_updateInstalled","chcp_updateInstallFailed","chcp_updateLoadFailed"].forEach(function(e){document.addEventListener(e,function(){setTimeout(function(){navigator.splashscreen.hide()},1666.66)},!1)}),document.addEventListener("chcp_updateLoadFailed",function(e){var o=e.detail.error;o&&o.code==chcp.error.APPLICATION_BUILD_VERSION_TOO_LOW&&(t.show({cssClass:"text-center",title:"升级提醒",template:"有新的版本，请下载更新",buttons:[{text:"立即升级",type:"button-positive",onTap:function(e){e.preventDefault(),window.isIOS?window.open("itms-apps://itunes.apple.com/cn/app/id1237120322?timestamp="+(new Date).valueOf()):window.isAndroid&&cordova.InAppBrowser.open("http://zft.gugecc.com/zft-app.html","_system")}}]}),["mousedown","mousemove","mouseup","MSPointerDown","MSPointerMove","MSPointerUp","pointerdown","pointermove","pointerup","touchstart","touchmove","touchend"].forEach(function(e){document.querySelector("body>ion-nav-view").addEventListener(e,function(e){return e.preventDefault(),e.stopPropagation(),!1},!0)}))},!1)}]);