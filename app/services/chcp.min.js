"use strict";angular.module("app").run(["$window","$ionicPlatform","$ionicPopup","$storage",function(e,t,o,n){t.on("resume",function(){window.chcp?chcp.fetchUpdate(function(t){t?!n.expired()&&e.location.reload():(navigator.splashscreen.show(),chcp.installUpdate())}):!n.expired()&&e.location.reload()}),["chcp_nothingToUpdate","chcp_updateInstalled","chcp_updateInstallFailed","chcp_updateLoadFailed"].forEach(function(e){document.addEventListener(e,function(){setTimeout(function(){navigator.splashscreen.hide()},1666.66)},!1)}),document.addEventListener("chcp_updateLoadFailed",function(e){var t=e.detail.error;t&&t.code==chcp.error.APPLICATION_BUILD_VERSION_TOO_LOW&&(o.show({cssClass:"text-center",title:"升级提醒",template:"有新的版本，请下载更新",buttons:[{text:"立即升级",type:"button-positive",onTap:function(e){e.preventDefault(),window.isIOS?window.open("itms-apps://itunes.apple.com/cn/app/id1237120322"):window.isAndroid&&cordova.InAppBrowser.open("http://zft.gugecc.com/zft-app.html","_system")}}]}),["mousedown","mousemove","mouseup","MSPointerDown","MSPointerMove","MSPointerUp","pointerdown","pointermove","pointerup","touchstart","touchmove","touchend"].forEach(function(e){document.querySelector("body>ion-nav-view").addEventListener(e,function(e){return e.preventDefault(),e.stopPropagation(),!1},!0)}))},!1)}]);