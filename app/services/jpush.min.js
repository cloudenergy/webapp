"use strict";angular.module("app").run(["$state","$ionicPlatform","$jpush","$message",function(n,i,e,t){var o,u,c=!0,a=function(){o=u?void 0:setTimeout(function(){o=void 0,t.check()},1666.66)},r=function(){u=o?void 0:setTimeout(function(){u=void 0,t.check()},1666.66)};window.isPRODUCTION?a():(i.on("resume",function(){a(),e.clearAndroid(),e.clearIOS(),c=!0}),i.on("pause",function(){c=!1}),document.addEventListener("jpush.openNotification",function(){r(),e.clearAndroid(),e.clearIOS()},!1),document.addEventListener("jpush.receiveNotification",function(){r(),c&&(e.clearAndroid(),e.clearIOS())},!1))}]).service("$jpush",["$storage",function(n){if(!window.isPRODUCTION){var i,e=this;angular.extend(e,{clearAndroid:function(){setTimeout(function(){i.clearAllNotification()},1666.66)},clearIOS:function(){setTimeout(function(){i.resetBadge(),i.setApplicationIconBadgeNumber(0)},1666.66)},setAlias:function(n,e,t){i.setAlias(angular.isNumber(n)?n.toString():n,e||angular.noop,t||angular.noop)}}),(i=window.plugins&&window.plugins.jPushPlugin).init(),e.clearAndroid(),e.clearIOS(),!n.expired()&&i.getRegistrationID(function t(o){o?e.setAlias(n.get("userid")):setTimeout(function(){i.getRegistrationID(t)},5e3)})}}]);