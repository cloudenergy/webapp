"use strict";angular.module("app").run(["$ionicPlatform","$jpush","$message",function(n,i,e){var o,t,a=!0,c=function(){o=t?void 0:setTimeout(function(){o=void 0,e.check()},1666.66)},u=function(){t=o?void 0:setTimeout(function(){t=void 0,e.check()},1666.66)};window.isPRODUCTION?c():(n.on("resume",function(){c(),i.clearAndroid(),i.clearIOS(),a=!0}),n.on("pause",function(){a=!1}),document.addEventListener("jpush.openNotification",function(){u(),i.clearAndroid(),i.clearIOS()},!1),document.addEventListener("jpush.receiveNotification",function(){u(),a&&(i.clearAndroid(),i.clearIOS())},!1))}]).service("$jpush",["$storage",function(n){if(!window.isPRODUCTION){var o,e=this;angular.extend(e,{clearAndroid:function(){setTimeout(function(){o.clearAllNotification()},1666.66)},clearIOS:function(){setTimeout(function(){o.resetBadge(),o.setApplicationIconBadgeNumber(0)},1666.66)},setAlias:function(n,i,e){o.setAlias(angular.isNumber(n)?n.toString():n,i||angular.noop,e||angular.noop)}}),(o=window.plugins&&window.plugins.jPushPlugin).init(),e.clearAndroid(),e.clearIOS(),!n.expired()&&o.getRegistrationID(function n(i){i?localStorage.JPUSH_ALIAS&&e.setAlias(localStorage.JPUSH_ALIAS):setTimeout(function(){o.getRegistrationID(n)},5e3)})}}]);