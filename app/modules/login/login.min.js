"use strict";angular.module("app").controller("app.login",["$state","$ionicHistory","$ionicLoading","User","ERRORCODE",function(i,e,o,t,n){this.submit=function(n){return n.user?n.password?(n.onsubmit=!0,void t.$login({user:n.user,passwd:(new window.Hashes.MD5).hex(n.password).toUpperCase()}).then(function(){e.clearHistory(),e.clearCache().then(function(){i.go("app.index",{},{location:"replace"})})},function(i){delete n.onsubmit,o.show({template:'<i class="ion-alert-circled"></i> 密码错误',duration:2e3})})):o.show({template:'<i class="ion-android-alert"></i> 密码不能为空',duration:2e3}):o.show({template:'<i class="ion-android-alert"></i> 帐号不能为空',duration:2e3})},this.lost=function(){o.show({template:'<i class="ion-android-alert"></i> 请联系相关物业',duration:2e3})}}]);