"use strict";angular.module("app").component("binding",{templateUrl:"app/modules/binding/binding.html?rev=01adc23f47",controller:["$api","$state","$stateParams","Dialog","md5","User",function(t,e,n,a,s,o){a.alert({title:"测试",textContent:n}),this.submit=function(r,i){t.wxaccount.bind({uid:i.user,passwd:s.createHash(i.password).toUpperCase(),openid:n.openid,platformid:n.platformid},function(){o.login({user:i.user,passwd:s.createHash(i.password).toUpperCase()}).then(function(){e.go(e.prev.state||"app.addon.index",e.prev.params||{})},function(t){a.alert({title:"登录失败",textContent:{20000001:"用户不存在",90000001:"服务器错误",90000002:"拒绝访问",90000003:"登录失败",90000004:"权限不足",90000005:"未登录",90000006:["验证失败","账号或密码有误"][1],90000007:"签名校验失败"}[parseInt(t.code)]||t.message,targetEvent:r})})},function(t){a.alert({title:"绑定失败",textContent:{20000001:"用户不存在",20000003:"参数不全",90000006:"身份验证失败"}[parseInt(t.code)]||t.message,targetEvent:r})})}}]});