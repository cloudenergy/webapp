"use strict";angular.module("app").component("binding",{templateUrl:"app/modules/binding/binding.html?rev=01adc23f47",controller:["$api","$location","$state","$stateParams","Dialog","User","ERRORCODE",function(t,e,n,a,o,i,r){this.submit=function(l,s){t.account.wxbind({uid:s.user,passwd:s.password,openid:a.openid,platformid:a.platformid},function(t){i.userinfo({uid:t.result.uid}).then(function(){console.log(a.target),a.target?e.url(a.target).replace():n.go("app.addon.index",{},{location:"replace"})},function(t){o.alert({title:"用户信息获取失败",textContent:r[parseInt(t.code)]||t.message,targetEvent:l})})},function(t){o.alert({title:"绑定失败",textContent:r[parseInt(t.code)]||t.message,targetEvent:l})})}}]});