"use strict";angular.module("app").component("account",{templateUrl:"app/modules/account/account.html?rev=81f63c4719",bindings:{userdata:"<"},controller:["$api","$state","$mdBottomSheet","User",function(e,t,a,n){var o=this;o.Items=[{key:"uid",label:"帐号",icon:"account",iconColor:"light-blue-500"},{key:"mobile",label:"手机号码",icon:"phone",iconColor:"light-blue-500",state:"app.account.edit",params:{action:"mobile"}},{key:"email",label:"电子邮箱",icon:"email",iconColor:"light-blue-500",state:"app.account.edit",params:{action:"email"}},{key:"numberOfSensor",label:"仪表数量",icon:"energy",iconColor:"green-500",state:"app.device"},{key:"department",label:"商铺名称",icon:"department",iconColor:"orange-800",state:"app.account.edit",params:{action:"department"}},{key:"tag",label:"商铺编号",icon:"number",iconColor:"orange-500"},{key:"area",label:"商铺面积",icon:"area",iconColor:"orange-500"},{key:"timecreate",label:"入住时间",icon:"calendar",iconColor:"orange-500"},{key:"numberOfDays",label:"运营天数",icon:"days",iconColor:"orange-500"}],o.go=function(e){t.go(e)},o.bottomSheet=function(e){var t=angular.element(document.body);"WECHAT"===n.client&&t.addClass("_md-panel-fullscreen"),t.addClass("overflow-hidden"),a.show({parent:t,templateUrl:"account-bottom-"+e+".html",controllerAs:"$ctrl",controller:function(){this.cancel=a.cancel}}).then(angular.noop,function(){"WECHAT"===n.client&&t.removeClass("_md-panel-fullscreen"),t.removeClass("overflow-hidden")})},o.$onInit=function(){o.userdata.area=(o.userdata.area||0)+" ㎡",o.userdata.timecreate=o.userdata.timecreate&&moment(1e3*o.userdata.timecreate).format("YYYY-MM-DD")}}]}).component("accountEdit",{templateUrl:"app/modules/account/edit.html?rev=1ccf72098c",controller:["$stateParams","$api","Dialog","User",function(e,t,a,n){var o=this;o.action=e.action,o.action&&angular.extend(o,{$onInit:function(){o.label={email:"电子邮箱",mobile:"手机号码",department:"商铺名称"}[o.action],o.input={type:{mobile:"number",email:"email"}[o.action]||"text",required:{mobile:!0,department:!0}[o.action],maxlength:{mobile:11,department:20}[o.action]||30},o.value=n.data[o.action]},submit:function(e,l){var i={id:n.data.departmentid};"department"===o.action?i.title=l:i[o.action]=l,t.department.update(i,function(){n.$userinfo(),a.alert({title:"保存成功",targetEvent:e})},function(t){a.alert({title:"保存失败",textContent:t.message||void 0,targetEvent:e})})}})}]});