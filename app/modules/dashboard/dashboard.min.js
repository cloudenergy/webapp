"use strict";angular.module("app").component("dashboard",{templateUrl:"app/modules/dashboard/dashboard.html?rev=bdedebdd61",bindings:{locked:"<"},controller:["$rootScope","$timeout","$mdBottomSheet","$mdSidenav","$state",function(e,t,n,a,o){var d=this;t(function(){a("sidenav").onClose(function(){e.sidenavLocked=!1})}),e.$on("$stateChangeStart",function(){e.sidenavLocked=!1,n.hide()}),e.$on("$stateChangeSuccess",function(e,t){d.renderTitle(o.$current),d.toggleSidemenu(t.name)}),angular.extend(d,{$onInit:function(){d.renderTitle(o.$current),d.toggleSidemenu(o.current.name)},$onChanges:function(e){e.locked&&angular.isDefined(e.locked.currentValue)&&(e.locked.currentValue?a("sidenav").open():a("sidenav").isOpen()&&a("sidenav").close())},projectChange:function(e){localStorage.project_selected=e._id},renderTitle:function(n){for("WECHAT"===e.User.client&&t(function(){var e=document.createElement("iframe");e.style.position="absolute",e.style.zIndex=-1,e.style.width="100%",e.style.height="100%",e.style.background="transparent",e.src="package.json",e.onload=function(){t(function(){document.body.removeChild(e)})},document.body.appendChild(e)}),d.breadcrumbs=[];n;)n.data&&Object.keys(n.data).length&&n.data.title&&d.breadcrumbs.unshift({state:n.abstract?null:n.name,title:n.data.title}),n=n.parent;document.title=d.breadcrumbs.length&&d.breadcrumbs[d.breadcrumbs.length-1].title||"物业中心"},toggleSidemenu:function(t){e.User.menu&&(e.User.menu.active=t,e.User.menu.toggle=/\w+\.\w+/.exec(t)[0])}})}]});