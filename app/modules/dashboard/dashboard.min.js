"use strict";angular.module("app").component("dashboard",{templateUrl:"app/modules/dashboard/dashboard.html?rev=00f8ebe5f7",bindings:{locked:"<"},controller:["$element","$rootScope","$timeout","$mdBottomSheet","$mdSidenav","$state",function(e,t,n,a,o,d){var i=this;n(function(){o("sidenav").onClose(function(){delete t.sidenavLocked})}),t.$on("$stateChangeStart",function(){t.sidenavLocked=!1,a.hide()}),t.$on("$stateChangeSuccess",function(e,t){i.renderTitle(d.$current),i.toggleSidemenu(t.name)}),angular.extend(i,{$onInit:function(){i.toggleSidemenu(d.current.name)},$onChanges:function(e){e.locked&&angular.isDefined(e.locked.currentValue)&&(e.locked.currentValue?o("sidenav").open():o("sidenav").isOpen()&&o("sidenav").close())},projectChange:function(e){localStorage.project_selected=e._id},renderTitle:function(e){for("WECHAT"===t.client&&n(function(){var e=document.createElement("iframe");e.style.position="absolute",e.style.zIndex=-1,e.style.width="100%",e.style.height="100%",e.style.background="transparent",e.src="package.json",e.onload=function(){n(function(){document.body.removeChild(e)})},document.body.appendChild(e)}),i.breadcrumbs=[];e;)e.data&&Object.keys(e.data).length&&e.data.title&&i.breadcrumbs.unshift({state:e.abstract?null:e.name,title:e.data.title}),e=e.parent;document.title=i.breadcrumbs.length&&i.breadcrumbs[i.breadcrumbs.length-1].title||"物业中心"},toggleSidemenu:function(e){t.sideMenu&&(t.sideMenu.active=e,t.sideMenu.toggle=/\w+\.\w+/.exec(e)[0])}})}]});