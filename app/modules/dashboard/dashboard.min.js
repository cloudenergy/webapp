"use strict";angular.module("app").component("dashboard",{templateUrl:"app/modules/dashboard/dashboard.html?rev=b5bbf6f9f8",controller:["$$rAF","$rootScope","$timeout","$mdSidenav","$state","MENUCONFIG",function(e,t,n,a,o,d){var i,s=this;angular.extend(s,{$onInit:function(){e(function(){s.renderTitle(o.$current),s.sidenav=a("sidenav").onClose(function(){delete t.sidenavLocked}),t.$watch("sidenavLocked",function(e){s.locked=e,e?s.sidenav.open():s.sidenav.isOpen()&&s.sidenav.close()}),t.$watch("UserInfo",function(e){e?(s.isLogin=!0,s.projectname=e.projectname,s.sideMenu||(angular.forEach(d,function(e){this.push(e)},s.sideMenu=[]),s.toggleSidemenu(o.current.name))):(delete s.isLogin,delete s.projectname,delete s.sideMenu,delete t.sidenavLocked)}),t.$watch("HttpRequestInProgress",function(e){i&&n.cancel(i),e?s.inprogress=!0:i=n(function(){delete s.inprogress},100)}),t.$on("$stateChangeSuccess",function(e,n){s.renderTitle(o.$current),s.toggleSidemenu(n.name),delete t.sidenavLocked})})},openSidenav:function(){t.sidenavLocked=!0},renderTitle:function(e){for(document.title=e.data&&e.data.title||"物业中心",n(function(){var e=document.createElement("iframe");e.style.position="absolute",e.style.zIndex=-1,e.style.width="100%",e.style.height="100%",e.style.background="transparent",e.src="app/components/weather/weather.html?rev=37113d8b43",e.onload=function(){n(function(){document.body.removeChild(e)})},document.body.appendChild(e)}),s.breadcrumbs=[];e;)e.data&&Object.keys(e.data).length&&e.data.title&&s.breadcrumbs.unshift({state:e.abstract?null:e.name,title:e.data.title}),e=e.parent},toggleSidemenu:function(e){s.sideMenu&&(s.sideMenu.active=e,s.sideMenu.toggle=/\w+\.\w+/.exec(e)[0])}})}]});