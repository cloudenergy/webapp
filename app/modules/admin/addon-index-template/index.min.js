"use strict";angular.module("app").component("adminAddonIndexTemplate",{templateUrl:"app/modules/admin/addon-index-template/index.html?rev=9c989a1c0f",bindings:{project:"<"},controller:["$mdDialog","$api",function(e,t){var n=this;angular.extend(n,{$onInit:function(){n.templates.selected=n.templates[0]},$onChanges:function(e){e.project&&e.project.currentValue&&n.templateInfo()},template:{icons:""},templates:[{id:1,name:"默认（天气、主应用、第三方应用）",url:"app/modules/addon/index/index.html?rev=7fe43247e9"},{id:2,name:"模板1",url:"app/modules/addon/index/index-xxx.html"}],templateInfo:function(){t.apptemplate.info({project:n.project._id},function(e){angular.extend(n.template,e.result.content&&angular.fromJson(e.result.content)||{})})},add:function(t,n){e.show({targetEvent:t,clickOutsideToClose:!0,fullscreen:!0,templateUrl:"app/modules/admin/addon-index-template/add.html?rev=12318a621c",controllerAs:"$ctrl",controller:function(){var t=this;t.basic="basic"===n,t.app={label:"",icon:"",iconColor:"",bgColor:"",state:"",target:"",sort:1},t.submit=function(){},t.cancel=function(){e.cancel()}}}).then(function(){})},update:function(){delete n.template.iconLink,t.apptemplate.update({project:n.project._id,template:n.templates.selected.url,content:angular.toJson(n.template)},function(e){})}})}]});