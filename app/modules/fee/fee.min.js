"use strict";angular.module("app").controller("app.fee",["$scope","$timeout","$api","User",function(e,t,i,n){var s=this,o={count:0,pageindex:0,pagesize:50};s.loadList=function(r){/refresher/.test(r)&&(o.count=0,o.pageindex=0),i.business.fundflow({_inprogress:!1,project:n.data.project,uid:n.data.uid,from:moment().format("YYYYMM01"),to:moment().format("YYYYMMDD"),category:"PAYFEES",pageindex:o.pageindex+1,pagesize:o.pagesize},function(e){/refresher/.test(r)&&s.list&&(s.list.length=0),e=e.result,o=e.paging,angular.forEach(e.detail,function(e){this.push(e)},s.list=s.list||[])}).$promise.finally(function(){/refresher/.test(r)&&e.$broadcast("scroll.refreshComplete"),/infinite/.test(r)&&e.$broadcast("scroll.infiniteScrollComplete"),s.infiniteDisable=!0,s.list&&s.list.length<o.count&&t(function(){delete s.infiniteDisable},16.66)})}}]);