"use strict";angular.module("app").component("addonAccount",{templateUrl:"app/modules/addon/account/account.html?rev=72e37dc403",controller:["$api","$state","User",function(e,t,a){var n=this;n.Items=[{key:"uid",label:"帐号",icon:"account"},{key:"mobile",label:"手机号码",icon:"phone",state:"app.addon.account.mobile"},{key:"email",label:"电子邮箱",icon:"email",state:"app.addon.account.email"},{key:"numberOfSensor",label:"仪表数量",icon:"energy",state:"app.addon.device"},{key:"department",label:"商铺名称",icon:"department",state:"app.addon.account.department"},{key:"tag",label:"商铺编号",icon:"number"},{key:"area",label:"商铺面积",icon:"area"},{key:"timecreate",label:"入住时间",icon:"calendar"},{key:"numberOfDays",label:"运营天数"}],n.go=function(e){t.go(e)},n.$onInit=function(){n.UserInfo=a.data,n.UserInfo.area=(n.UserInfo.area||0)+" ㎡",n.UserInfo.timecreate=n.UserInfo.timecreate&&moment(1e3*n.UserInfo.timecreate).format("YYYY-MM-DD")}}]}).component("addonAccountEdit",{templateUrl:"app/modules/addon/account/edit.html?rev=c988841bc5",bindings:{action:"@"},controller:["$api","Dialog","User",function(e,t,a){var n=this;angular.extend(n,{$onInit:function(){n.value=a.data[n.action],n.valid={maxlength:"mobile"===n.action?11:50,required:"department"===n.action}},keys:{email:"电子邮箱",mobile:"手机号码",department:"商铺名称"},submit:function(o,i){var c={id:a.data.departmentid};"department"===n.action?c.title=i:c[n.action]=i,e.department.update(c,function(){a.userinfo(),t.alert({title:"保存成功",targetEvent:o})},function(e){t.alert({title:"保存失败",textContent:e.message||void 0,targetEvent:o})})}})}]});