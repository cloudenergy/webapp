"use strict";angular.module("app").component("addonAccount",{templateUrl:"app/modules/addon/account/account.html?rev=97ea3e2b6f",controller:["$api","$state","$mdBottomSheet","User",function(e,o,n,t){var a=this;a.Items=[{key:"uid",label:"帐号",icon:"account",iconColor:"light-blue-500"},{key:"mobile",label:"手机号码",icon:"phone",iconColor:"light-blue-500",state:"app.addon.account.mobile"},{key:"email",label:"电子邮箱",icon:"email",iconColor:"light-blue-500",state:"app.addon.account.email"},{key:"numberOfSensor",label:"仪表数量",icon:"energy",iconColor:"green-500",state:"app.addon.device"},{key:"department",label:"商铺名称",icon:"department",iconColor:"orange-800",state:"app.addon.account.department"},{key:"tag",label:"商铺编号",icon:"number",iconColor:"orange-500"},{key:"area",label:"商铺面积",icon:"area",iconColor:"orange-500"},{key:"timecreate",label:"入住时间",icon:"calendar",iconColor:"orange-500"},{key:"numberOfDays",label:"运营天数",icon:"days",iconColor:"orange-500"}],a.go=function(e){o.go(e)},a.exit=function(){angular.element(document.body).addClass("overflow-hidden"),n.show({templateUrl:"app/modules/addon/account/bottom-sheet.html?rev=70fa9d8b93",controllerAs:"$ctrl",controller:function(){this.cancel=n.cancel}}).then(angular.noop,function(){angular.element(document.body).removeClass("overflow-hidden")})},a.$onInit=function(){a.UserInfo=angular.copy(t.data),a.UserInfo.area=(a.UserInfo.area||0)+" ㎡",a.UserInfo.timecreate=a.UserInfo.timecreate&&moment(1e3*a.UserInfo.timecreate).format("YYYY-MM-DD")}}]}).component("addonAccountEdit",{templateUrl:"app/modules/addon/account/edit.html?rev=c988841bc5",bindings:{action:"@"},controller:["$api","Dialog","User",function(e,o,n){var t=this;angular.extend(t,{$onInit:function(){t.value=n.data[t.action],t.valid={maxlength:"mobile"===t.action?11:50,required:"department"===t.action}},keys:{email:"电子邮箱",mobile:"手机号码",department:"商铺名称"},submit:function(a,l){var r={id:n.data.departmentid};"department"===t.action?r.title=l:r[t.action]=l,e.department.update(r,function(){n.userinfo(),o.alert({title:"保存成功",targetEvent:a})},function(e){o.alert({title:"保存失败",textContent:e.message||void 0,targetEvent:a})})}})}]});