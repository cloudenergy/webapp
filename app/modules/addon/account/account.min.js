"use strict";angular.module("app").component("addonAccount",{templateUrl:"app/modules/addon/account/account.html?rev=85288a713d",controller:["$api","$state","User",function(e,t,a){var n=this;n.Items=[{key:"uid",label:"帐号"},{key:"mobile",label:"手机号码",state:"app.addon.account.mobile"},{key:"email",label:"电子邮箱",state:"app.addon.account.email"},{key:"numberOfSensor",label:"仪表数量",state:"app.addon.device"},{key:"department",label:"商铺名称",state:"app.addon.account.department"},{key:"tag",label:"商铺编号"},{key:"area",label:"商铺面积"},{key:"timecreate",label:"入住时间"},{key:"numberOfDays",label:"运营天数"}],n.go=function(e){t.go(e)},a.userinfo().then(function(e){n.UserInfo=e,n.UserInfo.area=(n.UserInfo.area||0)+" ㎡",n.UserInfo.timecreate=moment(1e3*n.UserInfo.timecreate).format("YYYY-MM-DD")})}]}).component("addonAccountEdit",{templateUrl:"app/modules/addon/account/edit.html?rev=a027ae951a",bindings:{action:"@"},controller:["$q","$api","Dialog","User",function(e,t,a,n){var o=this;o.value=n.data[o.action],o.keys={email:"电子邮箱",mobile:"手机号码",department:"商铺名称"},o.submit=function(l,r){var c={uid:n.data.uid},i=e.defer();"department"===o.action?(c.title=r,t.department.update(c,i.resolve,i.reject)):(c[o.action]=r,t.account.update(c,i.resolve,i.reject)),i.promise.then(function(e){e.code?a.alert({title:"保存失败",textContent:e.message||void 0,targetEvent:l}):a.alert({title:"保存成功",targetEvent:l})})}}]});