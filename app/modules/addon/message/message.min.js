"use strict";angular.module("app").component("addonMessage",{templateUrl:"app/modules/addon/message/message.html?rev=5a60810d8c",controller:["$api","User",function(t,e){var a=this;angular.extend(a,{$onInit:function(){this.loadList()},paging:{count:0,pageindex:0,pagesize:30,unload:!0},list:[],loadList:function(){(a.paging.unload||a.list.length<a.paging.count&&!a.paging.loading)&&(delete a.paging.unload,a.paging.loading=!0,t.business.recentchargelog({project:[{id:e.data.project}],from:moment().subtract(12,"month").format("YYYYMMDD"),to:moment().format("YYYYMMDD"),status:"SUCCESS",pageindex:a.paging.pageindex+1,pagesize:a.paging.pagesize},function(t){t=t.result[e.data.project]||{},angular.forEach(t.detail||[],function(t){a.list.push(t)}),a.paging=t.paging}))},infiniteItems:{getItemAtIndex:function(t){return t===a.list.length-1&&a.loadList(),a.list[t]},getLength:function(){return a.list.length}},messageType:[{title:"余额不足提醒",bgColor:"deep-orange-300",state:"app.addon.charge",tip1:"点此去充值，如已充值请忽略",tip2:"充值"},{title:"余额不足提醒",bgColor:"red-300",state:"app.addon.charge",tip1:"点此去充值，如已充值请忽略",tip2:"充值"},{title:"充值成功提醒",bgColor:"green-300",state:"app.addon.chargelog",tip1:"点击查看账户余额详情",tip2:"详情"}]})}]});