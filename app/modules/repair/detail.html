<ion-view><ion-nav-title>{{{true:'编辑',false:'报修'}[!!$ctrl.id]}}</ion-nav-title><ion-nav-buttons side="left"><button class="button button-clear" type="button" ng-click="$ionicGoBack()"><i class="icon ion-ios-arrow-back"></i> 返回</button></ion-nav-buttons><ion-nav-buttons side="right"><button class="button button-clear" type="button" ng-if="!$ctrl.id">提交</button></ion-nav-buttons><ion-content scrollbar-x="false" class="stable-bg module-repair-detail"><div class="row row-center padding-left padding-right" ng-if="!$ctrl.data.id"><div class="col col-33 text-center col-image" ng-repeat="item in $ctrl.ImgPreview"><div class="inline image-preview" ui-sref="app.repair_preview({index:$index, images:$ctrl.ImgPreview})" ngf-thumbnail="item.data" ngf-as-background="true"><a class="ion-close-circled assertive" ng-click="$ctrl.ImgDelete($index)"></a></div></div><div class="col col-33 text-center col-image" ng-if="$ctrl.ImgPreview.length < 3"><button type="button" class="button ion-ios-plus-empty text-subdued light-bg stable-border image-picker" ng-click="$ctrl.AppPicker()" ng-if="!$ctrl.isPRODUCTION"></button> <button type="button" class="button ion-ios-plus-empty text-subdued light-bg stable-border image-picker" ng-model="$ctrl.H5ImgSelected" ngf-select="$ctrl.H5Picker()" ngf-multiple="true" ngf-keep="true" ngf-accept="'image/*'" ngf-pattern="'.bmp,.jpg,.jpeg,.png'" ngf-resize="{width: 1920, height: 1440, quality: 0.8}" ngf-resize-if="$width > 1920 || $height > 1440" ngf-max-files="3" ng-if="$ctrl.isPRODUCTION"></button></div></div><div class="list" ng-if="!$ctrl.data.id"><div class="item item-input item-floating-label"><span class="input-label text-subdued">报修物品</span> <input type="text" placeholder="报修物品" ng-model="$ctrl.data.content.repairName" maxlength="120"></div><div class="item item-input item-floating-label"><span class="input-label text-subdued">故障位置</span> <input type="text" placeholder="故障位置" ng-model="$ctrl.data.content.repairPlace" maxlength="120"></div><div class="item item-input item-floating-label"><span class="input-label text-subdued">故障描述<small>（限120个字）</small></span><textarea placeholder="故障描述（限120个字）" ng-model="$ctrl.data.content.repairContent" maxlength="120" rows="6"></textarea></div><div class="item item-input item-floating-label"><span class="input-label text-subdued">联系人</span> <input type="text" placeholder="联系人" ng-model="$ctrl.data.content.repairPerson" maxlength="60"></div><div class="item item-input item-floating-label"><span class="input-label text-subdued">联系电话</span> <input type="text" placeholder="联系电话" ng-model="$ctrl.data.content.repairPhone" maxlength="15" ng-pattern="/^1[3,5-8]\d{9}$/"></div></div><div class="list" ng-if="$ctrl.data.id"><div class="item item-input item-stacked-label"><span class="input-label text-subdued">报修物品</span><p class="padding-top" ng-bind="$ctrl.data.content.repairName"></p></div><div class="item item-input item-stacked-label"><span class="input-label text-subdued">故障位置</span><p class="padding-top" ng-bind="$ctrl.data.content.repairPlace"></p></div><div class="item item-input item-stacked-label"><span class="input-label text-subdued">故障描述</span><p class="padding-top" ng-bind="$ctrl.data.content.repairContent"></p></div><div class="item item-input item-stacked-label"><span class="input-label text-subdued">联系人</span><p class="padding-top" ng-bind="$ctrl.data.content.repairPerson"></p></div><div class="item item-input item-stacked-label"><span class="input-label text-subdued">联系电话</span><p class="padding-top" ng-bind="$ctrl.data.content.repairPhone"></p></div><div class="item item-input item-stacked-label"><span class="input-label text-subdued">维修状态</span><p class="padding-top" ng-bind="$ctrl.data.reply.status||'未处理'"></p></div><div class="item item-input item-stacked-label"><span class="input-label text-subdued">备注</span><p class="padding-top" ng-bind="$ctrl.data.remark||'空'"></p></div></div></ion-content></ion-view>