"use strict";angular.module("app").controller("app.index",["$scope","$q","$timeout","$ocLazyLoad","$ionicScrollDelegate","$ionicSlideBoxDelegate","$ionicPopup","$api","User",function(o,e,t,n,a,i,d,c,l){var s=this,r={url:"index-tmpl-default.html",icons:"static/iconfont-icon-addon/iconfont.css?t=1500966301894",slide:[{fixed:1,key:"slide1.jpg",sort:1},{fixed:1,key:"slide2.jpg",sort:2},{fixed:1,key:"slide3.jpg",sort:3}],basic:[{state:"app.recharge",icon:"icon-addon addon-recharge",label:"账户充值",sort:1},{state:"app.device",icon:"icon-addon addon-energy",label:"我的仪表",sort:2},{state:"app.fee",icon:"icon-addon addon-record",label:"我的消耗",sort:3},{state:"app.account",icon:"icon-addon addon-my",label:"我的信息",sort:4}],third:[{target:"https://city.weixin.qq.com/wx/home2?exportkey=AcVdsGyKWwCSe2VTci2hiWY%3D&pass_ticket=aGIXZ0N19FJYGfZJKDhgW%2BLyHoGa734lilzj70DYfwXa4SOBOTyXkuc19H0LLj8u",icon:"icon-addon addon-cityservice",label:"城市服务",sort:1},{target:"https://common.diditaxi.com.cn/general/webEntry?wx=true",icon:"icon-addon addon-didichuhang",label:"滴滴出行",sort:2},{target:"http://wx.17u.cn/home/index.html?code=021v5Obw02GQgf1YKsaw0llobw0v5ObW&state=123",icon:"icon-addon addon-huoche",label:"火车票机票",sort:3},{target:"http://x.elong.com/hotelwxqb/index/?code=0&cityid=1201",icon:"icon-addon addon-jiudian",label:"酒店",sort:4},{target:"https://dop-open.daojia.com/template/h5/index?cityid=79&from=ios&hmsr=wxwallet&phone=&lng=&location=&lat=&serviceType=1000005&dopChannel=3&znsr=wxwallet_shouye_weixiu&comm_pf=skinforwxwallet.css",icon:"icon-addon addon-repair",label:"维修服务",sort:5},{target:"http://m.nfsq.com.cn/h5/index.html",icon:"icon-addon addon-bottled-water",label:"送水服务",sort:6},{target:"https://m.kuaidi100.com",icon:"icon-addon addon-express",label:"快递服务",sort:7},{target:"http://dianhua.118114.cn:8088/yp114/index.do?channelno=211&type=0&cityName=%e6%9d%ad%e5%b7%9e",icon:"icon-addon addon-tele",label:"电话服务",sort:8},{target:"http://i.meituan.com",icon:"icon-addon addon-catering",label:"餐饮",sort:9},{target:"https://jzt.daojia.com/h5/thirdPartyBj/xiaoshigong",icon:"icon-addon addon-clean-keeping",label:"保洁",sort:10},{target:"http://www.flowermm.net/product/2",icon:"icon-addon addon-flower",label:"花卉",sort:11},{target:"http://m.loveoffice.com.cn",icon:"icon-addon addon-fitment",label:"装修",sort:12},{target:"http://zjzzy.bama555.com/cate?id=5673e2ac45cac043",icon:"icon-addon addon-rent",label:"租赁",sort:13},{target:"http://vmall.360kad.com/Category/all.shtml?utm_medium=refer&utm_source=publicno&utm_domain=quicksearch",icon:"icon-addon addon-medicine-chest",label:"药店",sort:14},{target:"http://www.wmalle.com/webapp/merchant/brandList.do?accountId=40&response_type=code&scope=snsapi_userinfo&state=1",icon:"icon-addon addon-bussiness",label:"办公商圈",sort:15},{target:"http://wq.jd.com/mcoss/mportal/show?tabid=12&tpl=12&PTAG=17053.1.1&utm_source=weixin&utm_medium=weixin&utm_campaign=t_1000072672_17053_001",icon:"icon-addon addon-market",label:"超市",sort:16}]},p={};s.AppReview=!!window.isIOS&&/hubofeng001|4201418530/.test(l.data.uid),s.comingSoon=function(){d.alert({cssClass:"text-center",title:"新功能正在紧张制作中",template:"稍后更新，敬请期待...",okText:"关闭"})},s.expand=0,s.showMore=function(){s.expand=-1,t(function(){a.resize()})},s.sliderHeight=document.body.clientWidth/750*360,s.options={autoplay:4e3,autoplayDisableOnInteraction:!1,loop:!0,speed:1e3},s.slideEnable=!0,o.$on("$ionicView.beforeEnter",function(){s.slideEnable=!0}),o.$on("$ionicView.afterLeave",function(){s.slideEnable=!1}),o.$on("$ionicSlides.sliderInitialized",function(o,e){s.slider=e.slider}),(s.refresh=function(t){e.all([l.$userinfo({_inprogress:t}).then(function(){s.cash=l.data.cash,s.monthlyCost=l.data.monthlyCost}),c.apptemplate.info({_inprogress:t,projectid:l.data.project},function(o){(p=o.result.content&&angular.fromJson(o.result.content)||r).url=o.result.template||r.url},function(){p=r}).$promise.finally(function(){n.load(/^\/\//.test(p.icons)?"https:"+p.icons:p.icons).finally(function(){s.template=p,s.expand||(s.expand=s.template.third.length>8?7:-1),s.slider&&s.slider.updateLoop()})}).$promise]).finally(function(){angular.isDefined(t)&&o.$broadcast("scroll.refreshComplete")})})()}]);