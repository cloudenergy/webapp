"use strict";angular.module("app").controller("app.recharge",["$scope","$q","$ionicLoading","$state","$api","User",function(e,r,t,o,a,n){var i=this;i.isAndroid=window.isAndroid,i.isIOS=window.isIOS,(i.refresh=function(r){return n.$userinfo({_inprogress:r}).then(function(){i.UserData=n.data}).finally(function(){angular.isDefined(r)&&e.$broadcast("scroll.refreshComplete")})})(),angular.extend(i,{custom_min:100,amounts:[100,500,1e3,2e3,5e3],recharge:{amount:100,custom:void 0},select:function(e){i.recharge.amount=e,delete i.recharge.custom},submit:function(e){return i.recharge.amount||i.recharge.custom?e.custom.$error.number?(delete i.recharge.amount,delete i.recharge.custom,e.custom.$setViewValue(void 0),e.$setPristine(),e.$setUntouched(),t.show({template:'<i class="ion-android-alert"></i> 充值金额必须为数字',duration:1e3})):i.recharge.custom&&i.recharge.custom<i.custom_min?t.show({template:'<i class="ion-android-alert"></i> 最低充值'+i.custom_min+"元",duration:1e3}):void o.go("app.recharge_channel",{amount:i.recharge.amount||i.recharge.custom}):t.show({template:'<i class="ion-android-alert"></i> 请选择充值金额',duration:1e3})}})}]);