"use strict";angular.module("app").component("password",{templateUrl:"app/modules/password/password.html?rev=252f2ae23f",controller:["$scope","$api","$state","Dialog","ERRORCODE",function(t,a,s,e,n){t.$watchCollection("$ctrl.data",function(a){a.newpasswd&&a.confirmpasswd&&t.form.confirmpasswd.$setValidity("match",angular.equals(a.newpasswd,a.confirmpasswd))}),this.data={newpasswd:"",oldpasswd:""},this.submit=function(t,o){o=angular.copy(o),delete o.confirmpasswd,a.account.passwd(o,function(){e.alert({title:"修改成功，请重新登录",targetEvent:t}).then(function(){s.prev={},s.go("app.logout")})},function(a){e.alert({title:"修改失败",textContent:n[parseInt(a.code)]||a.message,targetEvent:t})})}}]});